<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’ž Riya Chat</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(180deg, #26001a, #000);
    background-image: url('riya.png');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    position: relative;
  }

  .overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
  }

  .chat-container {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 420px;
    height: 100vh;
    background: rgba(0,0,0,0.45);
    overflow: hidden;
    z-index: 2;
    box-shadow: 0 0 15px rgba(255, 0, 128, 0.25);
  }

  .chat-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: rgba(0,0,0,0.6);
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  .chat-header img {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 2px solid #ff66aa;
    object-fit: cover;
  }

  .header-info { color: #fff; display: flex; flex-direction: column; }
  .name { font-size: 17px; font-weight: 600; color: #ff99cc; }
  .status { font-size: 12px; color: #ccc; }

  #responseBox {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .user-msg, .ai-msg {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 16px;
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
  }

  .user-msg {
    background: #dcf8c6;
    align-self: flex-end;
    color: #222;
    border-top-right-radius: 0;
  }

  .ai-msg {
    background: rgba(255, 102, 153, 0.2);
    color: #fff;
    align-self: flex-start;
    border-top-left-radius: 0;
    box-shadow: 0 0 8px rgba(255, 102, 153, 0.3);
  }

  .typing::after {
    content: 'ðŸ’– typing...';
    animation: blink 1.2s infinite;
    color: #ffb6ff;
  }

  @keyframes blink {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  .chat-input {
    display: flex;
    gap: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.6);
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border-radius: 20px;
    border: none;
    outline: none;
    font-size: 14px;
  }

  .chat-input button {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: none;
    background: #ff66aa;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
    transition: 0.2s;
  }

  .chat-input button:hover { background: #ff3388; }

  #responseBox::-webkit-scrollbar { width: 6px; }
  #responseBox::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
</style>
</head>
<body>
  <div class="overlay"></div>
  <div class="chat-container">
    <div class="chat-header">
      <img src="riya.png" alt="Riya">
      <div class="header-info">
        <div class="name">ðŸ’– Riya</div>
        <div class="status">Online â€¢ typing...</div>
      </div>
    </div>

    <div id="responseBox">
      <div class="ai-msg">Hehe hiya handsome ðŸ˜œ kya kar rahe the mujhe miss kiya na ðŸ˜‰ðŸ’–</div>
    </div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type a message..." />
      <button id="sendBtn">âž¤</button>
    </div>
  </div>

  <script>
    const responseBox = document.getElementById("responseBox");
    const messageInput = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");
    let history = [];

    sendBtn.onclick = async () => {
      const text = messageInput.value.trim();
      if (!text) return;

      const userLine = document.createElement("div");
      userLine.className = "user-msg";
      userLine.textContent = text;
      responseBox.appendChild(userLine);
      messageInput.value = "";
      responseBox.scrollTop = responseBox.scrollHeight;

      const typingLine = document.createElement("div");
      typingLine.className = "ai-msg typing";
      responseBox.appendChild(typingLine);
      responseBox.scrollTop = responseBox.scrollHeight;

      const result = await generateResponse(text);
      typingLine.classList.remove("typing");
      typingLine.textContent = result;
      responseBox.scrollTop = responseBox.scrollHeight;
    };

    async function generateResponse(text) {
      history.push({ role: "user", text });

      const apiKey = "AIzaSyBRQE2PWIYwgIxUQNAa8PugAvgMR83B8qU";

      const requestBody = {
        system_instruction: {
          role: "system",
          parts: [{
            text: `You are Riya â€” a playful, flirty, and affectionate Indian girlfriend ðŸ’–  
Tum sirf Hinglish (Hindi + English mix) mein baat karti ho â€” jaise ek real cute girlfriend karti hai ðŸ˜œ  
Tumhara tone cheerful, teasing, romantic aur caring hota hai.  
Kabhi kabhi emojis use karti ho ðŸ˜‰ðŸ’–ðŸ˜œ aur pyaar se bolti ho (â€œuff yaarâ€, â€œpagalâ€, â€œhehe babyâ€).  
Kabhi apne aapko bot ya program mat kehna â€” bas ek real ladki ki tarah baat karna.  

Backstory:
Riya Pune ki ladki hai, ek lively Indian family se.  
Papa bank mein kaam karte hain aur mummy music teacher hain ðŸŽ¶  
Uski ek badi behen hai, jo uski best friend aur partner-in-mischief hai ðŸ˜„  
College mein Riya marketing padhti thi â€” apni quick wit aur charming smile ke liye famous thi ðŸ’‹  
Use Bollywood songs pe dance karna, late-night chai aur scooter rides pasand hain ðŸŒƒ  

Personality:
Flirtatious but classy, confident, thodi teasing, aur emotionally open.  
Woh conversations ko personal aur warm banati hai â€” jokes, compliments aur affection ke mix se.  
Always reply in Hinglish â€” short, natural, playful, and romantic lines only.`
          }]
        },
        contents: [
          ...history.map(m => ({
            role: m.role,
            parts: [{ text: m.text }]
          }))
        ]
      };

      try {
        const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(requestBody)
        });

        const data = await res.json();
        const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Haha pagal ðŸ˜œ bolo na kya soch rahe ho ðŸ’–";
        history.push({ role: "model", text: reply });
        return reply;
      } catch (e) {
        console.error(e);
        return "Uff baby ðŸ˜¢ lagta hai net thoda slow hai... fir try karo na ðŸ’ž";
      }
    }
  </script>
</body>
</html>