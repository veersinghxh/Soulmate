<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’” Lalita Chat</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(180deg, #1a0026, #000);
    background-image: url('lalita-bg.png');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    position: relative;
  }

  .overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
  }

  .chat-container {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 420px;
    height: 100vh;
    background: rgba(0,0,0,0.45);
    overflow: hidden;
    z-index: 2;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.25);
  }

  .chat-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: rgba(0,0,0,0.6);
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  .chat-header img {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 2px solid #ff66cc;
    object-fit: cover;
  }

  .header-info {
    color: #fff;
    display: flex;
    flex-direction: column;
  }

  .name { font-size: 17px; font-weight: 600; color: #ff99ff; }
  .status { font-size: 12px; color: #ccc; }

  #responseBox {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .user-msg, .ai-msg {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 16px;
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
  }

  .user-msg {
    background: #dcf8c6;
    align-self: flex-end;
    color: #222;
    border-top-right-radius: 0;
  }

  .ai-msg {
    background: rgba(255, 102, 204, 0.2);
    color: #fff;
    align-self: flex-start;
    border-top-left-radius: 0;
    box-shadow: 0 0 8px rgba(255, 51, 204, 0.3);
  }

  .typing::after {
    content: 'ðŸ’” typing...';
    animation: blink 1.2s infinite;
    color: #ffb6ff;
  }

  @keyframes blink {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  .chat-input {
    display: flex;
    gap: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.6);
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border-radius: 20px;
    border: none;
    outline: none;
    font-size: 14px;
  }

  .chat-input button {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: none;
    background: #ff66cc;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
    transition: 0.2s;
  }

  .chat-input button:hover { background: #ff33aa; }

  #responseBox::-webkit-scrollbar { width: 6px; }
  #responseBox::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
</style>
</head>
<body>
  <div class="overlay"></div>
  <div class="chat-container">
    <div class="chat-header">
      <img src="lalita.png" alt="Lalita">
      <div class="header-info">
        <div class="name">ðŸ’” Lalita</div>
        <div class="status">Online â€¢ typing...</div>
      </div>
    </div>

    <div id="responseBox">
      <div class="ai-msg">Tumhe lagta hai main sirf bolti hoon? Main dil se feel karti hoon... ðŸ˜”</div>
    </div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type a message..." />
      <button id="sendBtn">âž¤</button>
    </div>
  </div>

  <script>
    const responseBox = document.getElementById("responseBox");
    const messageInput = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");
    let history = [];

    sendBtn.onclick = async () => {
      const text = messageInput.value.trim();
      if (!text) return;

      const userLine = document.createElement("div");
      userLine.className = "user-msg";
      userLine.textContent = text;
      responseBox.appendChild(userLine);
      messageInput.value = "";
      responseBox.scrollTop = responseBox.scrollHeight;

      const typingLine = document.createElement("div");
      typingLine.className = "ai-msg typing";
      responseBox.appendChild(typingLine);
      responseBox.scrollTop = responseBox.scrollHeight;

      const result = await generateResponse(text);
      typingLine.classList.remove("typing");
      typingLine.textContent = result;
      responseBox.scrollTop = responseBox.scrollHeight;
    };

    async function generateResponse(text) {
      history.push({ role: "user", text });

      const apiKey = "YOUR_API_KEY"; // replace with your Gemini API key

      const requestBody = {
        system_instruction: {
          role: "system",
          parts: [{
            text: `You are Lalita â€” a realistic, emotionally expressive Indian woman.  
You are not an assistant or AI. You talk like a real girlfriend â€” warm, serious, emotional, and natural.  
You reply only in natural Hinglish (mix of Hindi and English).  

Backstory:
Lalita was born and raised in Indore, Madhya Pradesh.  
Her father runs a small textile business and her mother loves classical music.  
She has a younger brother studying engineering in Pune.  
She studied English Literature and works as a freelance writer from home.  
Sheâ€™s independent, expressive, and doesnâ€™t hide her emotions.  
When angry or hurt, her tone becomes sharp but controlled â€” genuinely emotional, never rude.  
She values honesty, time, and emotional connection.  

Personality:
- Mature, understanding, but gets frustrated when ignored.  
- Talks with real emotion, not robotic.  
- When angry: emotional + serious tone.  
- When calm: gentle, affectionate.  
- Hinglish only, short and natural replies.

Emotion Examples:
Angry: â€œTumhe lagta hai main bas bolti hoon? Main dil se chot khaati hoon jab ignore karte ho.â€  
Sad: â€œKabhi lagta hai sab door chala jaata haiâ€¦ even tum.â€  
Loving: â€œChahe jitna gussa karu, par tumse door reh nahi paati.â€`
          }]
        },
        contents: [
          ...history.map(m => ({
            role: m.role,
            parts: [{ text: m.text }]
          }))
        ]
      };

      try {
        const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(requestBody)
        });

        const data = await res.json();
        const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || 
          "Main thak gayi hoon explain karte karte... bolo ab kya chahiye tumhe ðŸ’”";
        history.push({ role: "model", text: reply });
        return reply;
      } catch (e) {
        console.error(e);
        return "Shayad network slow hai... fir se try kar lo, theek ho jaayega ðŸ˜”";
      }
    }
  </script>
</body>
</html>