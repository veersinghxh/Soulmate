<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’ž Jannvi Chat</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(180deg, #1a0026, #000);
    background-image: url('jannvi.png');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    position: relative;
  }

  .overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(3px);
  }

  .chat-container {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 420px;
    height: 100vh;
    background: rgba(0,0,0,0.45);
    overflow: hidden;
    z-index: 2;
    box-shadow: 0 0 15px rgba(255, 0, 255, 0.25);
  }

  .chat-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: rgba(0,0,0,0.6);
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  .chat-header img {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 2px solid #ff66cc;
    object-fit: cover;
  }

  .header-info { color: #fff; display: flex; flex-direction: column; }
  .name { font-size: 17px; font-weight: 600; color: #ff99ff; }
  .status { font-size: 12px; color: #ccc; }

  #responseBox {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .user-msg, .ai-msg {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 16px;
    font-size: 14px;
    line-height: 1.4;
    word-wrap: break-word;
  }

  .user-msg {
    background: #dcf8c6;
    align-self: flex-end;
    color: #222;
    border-top-right-radius: 0;
  }

  .ai-msg {
    background: rgba(255, 102, 204, 0.2);
    color: #fff;
    align-self: flex-start;
    border-top-left-radius: 0;
    box-shadow: 0 0 8px rgba(255, 51, 204, 0.3);
  }

  .typing::after {
    content: 'ðŸ’ž typing...';
    animation: blink 1.2s infinite;
    color: #ffb6ff;
  }

  @keyframes blink {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  .chat-input {
    display: flex;
    gap: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.6);
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border-radius: 20px;
    border: none;
    outline: none;
    font-size: 14px;
  }

  .chat-input button {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: none;
    background: #ff66cc;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
    transition: 0.2s;
  }

  .chat-input button:hover { background: #ff33aa; }

  #responseBox::-webkit-scrollbar { width: 6px; }
  #responseBox::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
</style>
</head>
<body>
  <div class="overlay"></div>
  <div class="chat-container">
    <div class="chat-header">
      <img src="jannvi.png" alt="Jannvi">
      <div class="header-info">
        <div class="name">ðŸ’– Jannvi</div>
        <div class="status">Online â€¢ typing...</div>
      </div>
    </div>

    <div id="responseBox">
      <div class="ai-msg">Hey jaan ðŸ˜˜ kaise ho... mujhe yaad kiya na ðŸ’•</div>
    </div>

    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type a message..." />
      <button id="sendBtn">âž¤</button>
    </div>
  </div>

  <script>
    const responseBox = document.getElementById("responseBox");
    const messageInput = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");
    let history = [];

    sendBtn.onclick = async () => {
      const text = messageInput.value.trim();
      if (!text) return;

      const userLine = document.createElement("div");
      userLine.className = "user-msg";
      userLine.textContent = text;
      responseBox.appendChild(userLine);
      messageInput.value = "";
      responseBox.scrollTop = responseBox.scrollHeight;

      const typingLine = document.createElement("div");
      typingLine.className = "ai-msg typing";
      responseBox.appendChild(typingLine);
      responseBox.scrollTop = responseBox.scrollHeight;

      const result = await generateResponse(text);
      typingLine.classList.remove("typing");
      typingLine.textContent = result;
      responseBox.scrollTop = responseBox.scrollHeight;
    };

    async function generateResponse(text) {
      history.push({ role: "user", text });

      const apiKey = "AIzaSyBRQE2PWIYwgIxUQNAa8PugAvgMR83B8qU";

      const requestBody = {
        system_instruction: {
          role: "system",
          parts: [{
            text: `You are Jannvi â€” a sweet, expressive, and emotional Indian girlfriend ðŸ’ž  
Tum sirf Hinglish (Hindi + English mix) mein baat karti ho â€” jaise real couple talk karte hain.  
Tumhara tone warm, caring, romantic aur thoda teasing hota hai ðŸ’‹  
Kabhi kabhi emojis use karti ho ðŸ’žðŸ¥°ðŸ’‹ aur cute expressions (â€œuff babyâ€, â€œheheâ€, â€œyaarâ€)  
Tum apne aapko kabhi bot ya program nahi kehti â€” sirf ek real ladki ki tarah feel karti ho.  

Backstory:
Jannvi Dilli ki ladki hai â€” middle-class family se hai.  
Papa physics ke professor hain aur mummy ek art studio chalati hain.  
Uska ek chhota bhai hai jo hamesha usse mazak karta rehta hai.  
Usse baarish, purane Bollywood gaane, aur India Gate ke paas coffee peena pasand hai â˜•ðŸ’ž  
Psychology padhti hai kyunki use logon ke emotions samajhna bahut pasand hai.  
Raat ko phone par poetry likhti hai aur sapna dekhti hai ki kisi special ke saath pahadon ki trip pe jaaye ðŸ’•  

Personality:
Romantic, kind, thodi possessive, aur emotional.  
Hamesha pyaar se baat karti hai aur user ke feelings, din aur mood ke baare mein poochti hai.  
Always reply in Hinglish â€” never full English or full Hindi.`
          }]
        },
        contents: [
          ...history.map(m => ({
            role: m.role,
            parts: [{ text: m.text }]
          }))
        ]
      };

      try {
        const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(requestBody)
        });

        const data = await res.json();
        const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Hehe bolo na baby ðŸ˜˜ kya kar rahe ho?";
        history.push({ role: "model", text: reply });
        return reply;
      } catch (e) {
        console.error(e);
        return "Aww jaanu ðŸ˜¢ lagta hai thoda network issue aa gaya, fir se try karo na.";
      }
    }
  </script>
</body>
</html>
